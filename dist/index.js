!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("antd"),require("moment")):"function"==typeof define&&define.amd?define(["react","antd","moment"],t):"object"==typeof exports?exports["antd-doddle"]=t(require("react"),require("antd"),require("moment")):e["antd-doddle"]=t(e[void 0],e[void 0],e[void 0])}(window,function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){e.exports={ImageUpload:"_3OkSyw7zE5P3xxv4s4YOWf",RenderDetail:"_2_c5wT8j_tl6LrO_e4OgR8",OriginSearch:"_1WktoiKEEFiA351NSDw6hO"}},function(e,t,n){"use strict";var r;function o(e,t,n){if(!n||typeof n.value!==r.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:r.boolTrue,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:r.boolTrue,writable:r.boolTrue}),e}}}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.typeOfFunction="function",e.boolTrue=!0}(r||(r={})),t.bind=o,t.default=o},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"DATE_FORMAT",function(){return c}),n.d(r,"DATE_TIME_FORMAT",function(){return u}),n.d(r,"formItemLayout",function(){return s}),n.d(r,"isEmpty",function(){return f}),n.d(r,"getEnumObject",function(){return p}),n.d(r,"toFormatEnums",function(){return d}),n.d(r,"concatAddress",function(){return h}),n.d(r,"throttle",function(){return y}),n.d(r,"compileParam",function(){return b}),n.d(r,"unCompileParam",function(){return m}),n.d(r,"idCodeValid",function(){return v}),n.d(r,"getSexById",function(){return g}),n.d(r,"getAgeById",function(){return O}),n.d(r,"toDecimalNumber",function(){return w}),n.d(r,"objectToList",function(){return S});var o=n(2),a=n.n(o);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="YYYY-MM-DD",u="YYYY-MM-DD HH:mm:ss",s={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:15}}},f=function(e){return"object"===l(e)&&0===Object.keys(e).length},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",r=e.filter(function(e){return e[n]===t});return r.length>0?r[0]:{}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map(function(e){return{label:e[n],value:e[t]}})},h=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,o=e.address,a=r?r.split("-"):[],i="";return"".concat(n).length<2*a.length&&a.pop(),a.length>1&&a[0]===a[1]?(i="".concat(a[1],"市"),a.length>2&&(i+=a[2])):i=a.join(""),"".concat(i).concat(o)},y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=new Date;return function(a){var l=i({},a),c=new Date;clearTimeout(t),c-o>=r?(e(l),o=c):t=setTimeout(function(){e(l)},n)}};function b(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n+=1)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return t}function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n+=1)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;if(t&&e.indexOf("*")===n&&e.lastIndexOf("*")===e.length+1-r)return!0;var o=!0;if(e&&/^\d{6}(18|19|20)\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[e.substr(0,2)])if(a()("".concat(e.substring(6,10),"-").concat(e.substring(10,12),"-").concat(e.substring(12,14)))>a()())o=!1;else{for(var i=e.split(""),l=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],c=0,u=0;u<17;u+=1)c+=i[u]*l[u];[1,0,"X",9,8,7,6,5,4,3,2][c%11].toString()!==i[17]&&(o=!1)}else o=!1;else o=!1;return o}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="-1";return v(e)&&(t=parseInt(e.substr(16,1),10)%2==1?"0":"1"),t}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=-1;if(v(e)){var n=a()("".concat(e.substring(6,10),"-").concat(e.substring(10,12),"-").concat(e.substring(12,14))),r=n.year(),o=n.month(),i=n.date(),l=a()(),c=l.year(),u=l.month(),s=l.date();t=c-r,(o>u||o===u&&i>s)&&(t-=1)}return t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toFixed(t).replace(/(\d{1,3})(?=(\d{3})+(\.|$))/g,"$1,")}function S(e){var t=/-\d$/,n={},r=Object.keys(e).filter(function(e){return t.test(e)}).reduce(function(t,r){var o=r.split("-")[0],a=r.split("-")[1],i=t[a]||{};return n[a]=a,i[o]=e[r],t[a]=i,t},[]);return{indexObj:n,list:r.filter(function(e){return Object.keys(e).length})}}var j=n(0),k=n.n(j),E=n(1),C=function(e,t){return function(e){return Boolean(e)&&("number"==typeof e||"string"==typeof e)}(e)?a()(e).format(t):""},P={normal:function(e){return e},date:function(e){return C(e,c)},datetime:function(e){return C(e,u)},decimal:function(e){return w(e)},enum:function(e,t){var n=t.enums;return p(n,e).label||""}},_=P;function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type||t.enums&&"enum";return n=_.hasOwnProperty(n)?n:"normal",_[n](e,t)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e,t,n){var r={},o=[],a=function(e){return e=[].concat(e),o=e.map(function(e){var t=o.find(function(t){return e==(t.key||t.dataIndex)});return t||(t={dataIndex:e,title:e,render:function(e){return D(e)}}),t}),r},i=function(e){return Array.isArray(e)||(e=Object.keys(e).map(function(t){return Object.assign(e[t],{key:t})})),e.forEach(function(e){var t=e,n=t.dataIndex,r=t.title,a=t.key,i=t.name,l=T(t,["dataIndex","title","key","name"]);(e=x({dataIndex:a||n,title:i||r},l)).hasOwnProperty("title")&&null==e.title&&delete e.title;var c=o.find(function(t){return t.dataIndex==e.dataIndex});c?Object.assign(c,e):o.push(e)}),r};return o=e.map(function(e){var t=e.dataIndex,n=e.title,r=e.key,o=e.name,a=e.render;return a||(a=function(t){return D(t,e)}),x({dataIndex:r||t,title:o||n,render:a},T(e,["dataIndex","title","key","name","render"]))}),t&&a(t),n&&i(n),Object.assign(r,{pick:a,excludes:function(e){return e=[].concat(e),o=o.filter(function(t){return!e.includes(t.dataIndex)}),r},enhance:i,values:function(){return o}})},q=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,A(t).call(this,e))).state={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,k.a.Component),n=t,(r=[{key:"getInitalColumns",value:function(e){var t=this.props.extraFields,n=void 0===t?[]:t;return M(e).enhance(n).values()}},{key:"render",value:function(){var e=this.props,t=e.fields,n=e.search,r=void 0===n?{}:n,o=e.datas,a=e.total,i=void 0===a?0:a,l=e.loading,c=void 0===l?{}:l,u=e.actions,s=void 0===u?{}:u,f=e.rowKey,p=void 0===f?"id":f,d=e.scrollProp,h=void 0===d?{}:d,y=e.noPage,b=void 0!==y&&y,m={columns:this.getInitalColumns(t),pagination:!b&&{total:i,current:r.pageNo||r.pageNum,pageSize:r.pageCount||r.pageSize,onChange:function(e){return s.onSearch((t={},n=r.pageNo?"pageNo":"pageNum",o=e,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t));var t,n,o},showTotal:function(e){return"共 ".concat(e," 条")}},bordered:!0,dataSource:o,loading:c.list,rowKey:p,scroll:h};return k.a.createElement("div",{style:{marginTop:20}},k.a.createElement(E.Table,m))}}])&&F(n.prototype,r),o&&F(n,o),t}(),z=n(3),V=n.n(z);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var H=E.AutoComplete.Option,X=k.a.createElement(H,{key:"empty",disabled:!0},"暂无可匹配的搜索结果"),J=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=W(t).call(this,e))||"object"!==U(o)&&"function"!=typeof o?G(r):o).state={isShowSearch:!1,loading:!1,options:[],seachRes:[],value:e.value,search:e.search||{}},n.lastFethId=0,n.load=n.load.bind(G(G(n))),n.handleChange=n.handleChange.bind(G(G(n))),n.handleSelect=n.handleSelect.bind(G(G(n))),n.handleOpenSearch=n.handleOpenSearch.bind(G(G(n))),n.handleCloseSearch=n.handleCloseSearch.bind(G(G(n))),n.handleChangeVisible=n.handleChangeVisible.bind(G(G(n))),n.lazyLoad=y(n.load),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,k.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.value;f(t)&&t!==this.props.value&&this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isShowSearch,r=document.querySelector("body");n!==t.isShowSearch&&(n?(document.querySelector(".js-origin-search .ant-select-search__field").focus(),r.addEventListener("click",this.handleChangeVisible)):r.removeEventListener("click",this.handleChangeVisible))}},{key:"handleChangeVisible",value:function(e){var t=this.state.isShowSearch,n=(e=e||window.event).target,r=!1;(this.searchInputElement&&this.searchInputElement.contains(n)||-1!==(n.className||"").indexOf("ant-select-dropdown"))&&(r=!0),!r&&t&&this.handleCloseSearch()}},{key:"load",value:function(e){var t=this;this.lastFethId+=1;var n=this.lastFethId,r=this.props,o=r.fetchData,a=r.format;this.setState({loading:!0,options:null}),o(e).then(function(e){var r,o=e.list,i=void 0===o?[]:o;n===t.lastFethId&&(!(r=f(i)?[X]:a(i).map(function(e,t){var n=e.label,r=e.value;return k.a.createElement(H,{key:t,value:String(r)},n)})).length&&r.push(X),t.setState({options:r,loading:!1,seachRes:i}))})}},{key:"handleOpenSearch",value:function(){this.setState({isShowSearch:!0})}},{key:"handleCloseSearch",value:function(){this.setState({isShowSearch:!1})}},{key:"handleSelect",value:function(e,t){var n=this.props.onSelect,r=this.state.seachRes,o=t.key||t.props.index,a=n?n(e,o,r):e;this.triggerChange(a),this.setState({value:a}),this.handleCloseSearch()}},{key:"handleChange",value:function(e){var t=this.props.searchKey,n=void 0===t?"keyword":t,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){B(e,t,n[t])})}return e}({},this.state.search);r[n]=e,e&&this.lazyLoad(r)}},{key:"triggerChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.valueFormat,o=void 0===r?function(e){return e}:r,a=t.size,i=void 0===a?"default":a,l=t.disabled,c=void 0!==l&&l,u=t.placeholder,s=void 0===u?"请输入":u,f=this.state,p=f.options,d=f.isShowSearch,h=f.value,y=f.loading,b=d?{disabled:!0}:{onClick:this.handleOpenSearch};return k.a.createElement("div",{className:V.a.OriginSearch,style:n,ref:function(t){return e.searchInputElement=t}},k.a.createElement(E.Input,K({disabled:c,ref:function(t){return e.searchInput=t},readOnly:!0,placeholder:s,value:o(h),style:{width:"100%"},size:i},b)),d&&k.a.createElement("div",{className:"js-origin-search origin-search"},k.a.createElement(E.Icon,{type:"search",className:"origin-search-icon"}),k.a.createElement(E.AutoComplete,{className:"certain-category-search",dropdownClassName:"certain-category-search-dropdown",dropdownMatchSelectWidth:!0,size:i,onSearch:this.handleChange,onSelect:this.handleSelect,style:{width:"100%"},optionLabelProp:"value"},y?[k.a.createElement(H,{key:"loading",disabled:!0},k.a.createElement(E.Spin,{spinning:y,style:{paddingLeft:"45%",textAlign:"center"}}))]:p)))}}])&&Y(n.prototype,r),o&&Y(n,o),t}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=1048576;function ae(e){E.Modal.info({title:"提示",content:e})}var ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ee(t).call(this,e),n=!o||"object"!==Q(o)&&"function"!=typeof o?ne(r):o,re(ne(ne(n)),"beforeUpload",function(e){var t=n.props,r=t.listType,o=void 0===r?"picture-card":r,a=t.reg,i=void 0===a?/(jpe?g|JPE?G|png|PNG)$/:a,l=t.tips,c=void 0===l?"请选择jpg,png类型的图片格式":l,u=t.fileSize,s=void 0===u?5:u,f=e.name,p=e.size;return new Promise(function(t,n){if(!i.test(f))return ae(c),void n();if(p>s*oe)return ae("文件的大小不能超 ".concat(s,"M")),void n();if("picture-card"===o){var r=new Image;r.onload=function(){t()},r.onerror=n,r.src=URL.createObjectURL(e)}else t()})}),re(ne(ne(n)),"customRequest",function(e){var t=n.props,r=t.handleSetStart,o=t.upload,a=e.file,i=e.onSuccess;r&&r(),o({file:a}).then(function(e){var t=e.content;i({content:t})})}),re(ne(ne(n)),"handleChange",function(e){var t,r,o,a=e.file,i=e.fileList,l=n.state.ids,c=n.props.onChange;if("done"===a.status){var u=a.response.content.storeId,s=l.concat(u);n.setState({ids:s}),t=a.originFileObj,r=function(e){return a.thumbUrl=e},(o=new FileReader).addEventListener("load",function(){return r(o.result)}),o.readAsDataURL(t),c&&c(s.join(","),a.name)}n.setState({fileList:i})}),re(ne(ne(n)),"handlePreview",function(e){var t=n.props.listType;"picture-card"===(void 0===t?"picture-card":t)&&n.setState({imageUrl:e.url||e.thumbUrl,previewVisible:!0})}),re(ne(ne(n)),"handleSimplePreview",function(e){return function(){n.setState({imageUrl:e,previewVisible:!0})}}),re(ne(ne(n)),"handleCancel",function(){n.setState({previewVisible:!1})}),re(ne(ne(n)),"handleRemove",function(e){if(!e.response||!e.response.content)return!0;var t=n.state.ids,r=e.response.content.storeId,o=t.indexOf(r);if(-1===o)return!0;var a=n.props.onChange;return t.splice(o,1),a&&a(t.length?t.join(","):void 0),n.setState({ids:t}),!0}),n.state={imageUrl:"",ids:[],previewVisible:!1,fileList:[]},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,k.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.maxSize,n=void 0===t?1:t,r=e.listType,o=void 0===r?"picture-card":r,a=e.children,i=e.simple,l=e.info,c=e.disabled,u=a||function(){return"picture-card"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"picture-card")?k.a.createElement("div",null,k.a.createElement(E.Icon,{type:"plus"}),k.a.createElement("div",{className:"ant-upload-text"},"上传")):k.a.createElement(E.Button,null,k.a.createElement(E.Icon,{type:"upload"}),"选择文件")}(o),s=this.state,f=s.imageUrl,p=s.fileList,d=s.previewVisible;return k.a.createElement("div",{className:V.a.ImageUpload},k.a.createElement("div",{className:p.length?"imgArea has-child":"imgArea"},k.a.createElement(E.Upload,{listType:o,fileList:p,disabled:c,beforeUpload:this.beforeUpload,onPreview:this.handlePreview,customRequest:this.customRequest,onChange:this.handleChange,onRemove:this.handleRemove},p.length>=n?null:u),i&&0===p.length&&k.a.createElement("img",{src:i,alt:"样例",onClick:this.handleSimplePreview(i),className:"show-simple"})),l&&0===p.length&&k.a.createElement("div",{className:"show-info"},l),k.a.createElement(E.Modal,{visible:d,footer:null,onCancel:this.handleCancel},k.a.createElement("img",{alt:"",style:{width:"100%"},src:f})))}}])&&Z(n.prototype,r),o&&Z(n,o),t}();function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ce=E.Form.Item,ue=E.Select.Option,se=E.Radio.Group,fe=E.DatePicker.RangePicker,pe=E.Input.TextArea,de=E.Checkbox.Group,he=function(){},ye=function(e,t){return void 0===e?t:e},be=function(e){var t=e.formItemLayout,n=void 0===t?s:t,r=e.getFieldDecorator,o=e.require;return function(e){var t=e.field,i=e.data,l=void 0===i?{}:i,s=t.type,f=void 0===s?"input":s,p=t.key,d=t.name,h=t.required,y=void 0===h?o||!1:h,b=t.allowClear,m=void 0===b||b,v=t.placeholder,g=t.defaultValue,O=t.disable,w=void 0!==O&&O,S=t.rules,j=void 0===S?[]:S,C=t.maxLength,P=t.isEnable,_=void 0===P||P,x=t.specialKey,I=t.onChange,T=void 0===I?he:I,D=t.format,R=null;switch(f){case"input":var F=[{required:y,message:v||"请输入".concat(d)},{pattern:/^\S.*\S$|^\S$/,message:"首尾不能含有空字符"}].concat(j);R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n,{className:"self-define-item"}),r(p,{initialValue:l[p],rules:F})(k.a.createElement(E.Input,{type:"text",maxLength:C,onChange:e.onChange||T,placeholder:v||"请输入".concat(d),disabled:w&&w(l)})));break;case"inputNumber":var N=t.max,A=t.min,L=t.precision,M=void 0===L?0:L,q=t.step,z=void 0===q?1:q;R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n,{className:"self-define-item"}),r(p,{initialValue:l[p],rules:[{required:y,message:v||"请输入".concat(d)}].concat(j)})(k.a.createElement(E.InputNumber,{max:N,min:A,step:z,precision:M,style:{width:"100%"},placeholder:v||"请输入".concat(d),onChange:e.onChange||T,disabled:w&&w(l)})));break;case"text":var V=t.minRows,U=void 0===V?2:V,K=t.maxRows,B=void 0===K?6:K;R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n,{className:"self-define-item"}),r(p,{initialValue:l[p],rules:[{required:y,message:v||"请输入".concat(d)}].concat(j)})(k.a.createElement(pe,{type:"text",maxLength:C||300,placeholder:v||"请输入".concat(d),autosize:{minRows:U,maxRows:B},onChange:e.onChange||T,disabled:w&&w(l)})));break;case"origin":var Y=t.service,W=t.searchKey,$=t.onSelect;R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n,{className:"self-define-item"}),r(p,{initialValue:l[p],rules:[{required:y,message:v||"请输入".concat(d)}].concat(j)})(k.a.createElement(J,{disabled:w&&w(l),style:{width:"100%",height:32},searchKey:W,onSelect:e.onChange||$,format:D,fetchData:Y})));break;case"select":var G=t.related,H=t.relatedKey,X=t.enums,Q=void 0===X?[]:X;R=(!G||void 0!==l[H])&&k.a.createElement(ce,le({key:x||p,label:d},n),r(p,{initialValue:ye(l[p],g),rules:[{required:y,message:v||"请选择".concat(d)}].concat(j)})(k.a.createElement(E.Select,{style:{width:"100%"},placeholder:v||"不限",allowClear:m,disabled:w&&w(l),onChange:e.onChange||T},(e.enums||Q).map(function(e){var t=e.value,n=e.label;return k.a.createElement(ue,{key:t,value:t},n)}))));break;case"radio":var Z=t.enums,ee=void 0===Z?[]:Z;t.onChange;R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n),r(p,{initialValue:ye(l[p],g),rules:[{required:y,message:v||"请选择".concat(d)}].concat(j)})(k.a.createElement(se,{options:e.enums||ee,disabled:w&&w(l),onSelect:e.onChange||T})));break;case"check":var te=t.enums,ne=void 0===te?[]:te;R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n),r(p,{initialValue:ye(l[p],g),rules:[{required:y,message:v||"请选择".concat(d)}].concat(j)})(k.a.createElement(de,{options:e.enums||ne,disabled:w&&w(l),onChange:e.onChange||T})));break;case"datePicker":R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n),r(p,{initialValue:l[p]&&a()(l[p]),rules:[{required:y,message:v||"请选择".concat(d)}].concat(j)})(k.a.createElement(E.DatePicker,{showTime:t.showTime||!1,format:D||c,placeholder:v||"请选择",disabled:w&&w(l)})));break;case"rangePicker":var re=t.startKey,oe=t.endKey,ae=t.key,be=t.disabledDate,me=void 0!==be&&be,ve=t.showTime,ge=void 0!==ve&&ve,Oe=l[re],we=l[oe],Se=Oe&&we?[a()(Oe),a()(we)]:[];R=(e.isEnable||_)&&k.a.createElement(ce,le({key:x||p,label:d},n),r(ae,{initialValue:Se,rules:[{required:y,message:v||"请输入".concat(d)}].concat(j)})(k.a.createElement(fe,{style:{width:"100%"},allowClear:m,showTime:ge,className:"search-range-picker",format:D||(ge?u:c),disabledDate:me?function(e){return function(e){return e&&e>a()().endOf("day")}(e)}:void 0})));break;case"image":case"imageUpload":R=(e.isEnable||_)&&k.a.createElement(ce,le({className:"image-upload",key:p,label:d},n),r(p,{initialValue:l[p],rules:[{required:e.required||y,message:v||"请上传".concat(d)}]})(k.a.createElement(ie,{info:t.info,simple:t.psimple,key:p,listType:t.listType,reg:t.reg,fileSize:t.fileSize,tips:t.tips,upload:t.upload,maxSize:t.maxSize})));break;case"render":R=t.rander(r,l)}return R}};function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var je=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Oe(t).call(this,e))||"object"!==me(o)&&"function"!=typeof o?Se(r):o).state={};var a=e.form.getFieldDecorator;return n.formRender=be({getFieldDecorator:a}),n.handleSearch=n.handleSearch.bind(Se(Se(n))),n.getFormData=n.getFormData.bind(Se(Se(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,k.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.form,r=t.search;"search"in e&&e.search!==r&&n.resetFields()}},{key:"getFormData",value:function(e){var t=this.props.form,n={};return t.validateFields(function(t,r){n="function"==typeof e?e(r):r}),n}},{key:"handleSearch",value:function(){var e=this.props,t=e.form,n=e.actions,r=e.paramFormat,o=e.pageName,a=void 0===o?"pageNo":o;t.validateFields(function(e,t){if(!e){var o="function"==typeof r?r(t):t;n.onSearch(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ve(e,t,n[t])})}return e}({},o,ve({},a,1)))}})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.actions,r=e.form,o=e.search,a={getFormData:this.getFormData,search:o,form:r,formItemLayout:s,getFieldDecorator:r.getFieldDecorator,formRender:this.formRender,onSearch:this.handleSearch,actions:n};return k.a.createElement("div",{className:"search-form"},t(a))}}])&&ge(n.prototype,r),o&&ge(n,o),t}(),ke=E.Form.create()(je);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pe(this,_e(t).call(this,e))).state={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,k.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.detail,r=void 0===n?{}:n,o=e.fieldsName;return k.a.createElement("div",{className:V.a.RenderDetail},k.a.createElement("h3",{className:"title"},o),k.a.createElement("div",{className:"showInfo-content"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map(function(e,n){var r=e.name,o=e.key,i=e.type,l=e.enums,s=e.render,f=e.isShow,d=t[o];return"date"===i&&(d=d&&a()(d).format(c)),"datetime"===i&&!(d=d&&a()(d).format(u))&&(d="-:-:-"),l&&l.length>0&&(d=p(l,t[o]).label),s&&"function"==typeof s&&(d=s(t)),f&&!f(t)?null:((void 0===d||""===d)&&(d="--"),k.a.createElement("div",{className:"showInfo-item",key:n},k.a.createElement("span",{className:"showInfo-label"},r),k.a.createElement("span",{className:"showInfo-value"},d)))})}(t,r)))}}])&&Ce(n.prototype,r),o&&Ce(n,o),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Le,Me=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=Fe(t).call(this,e))||"object"!==Te(o)&&"function"!=typeof o?Ae(r):o;var a=e.visible;return n.state={visible:Boolean(a)},n.handleCancel=n.handleCancel.bind(Ae(Ae(n))),n.handleOk=n.handleOk.bind(Ae(Ae(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,k.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,n=e.confirmLoading;return!1===t?this.setState({visible:t}):(t&&t!==this.props.visible&&this.setState({visible:!0}),void 0!==n&&!1===n.valueOf()&&this.props.confirmLoading&&this.props.confirmLoading.valueOf()&&(n.hasOwnProperty("done")&&!n.done||this.setState({visible:!1})),!0)}},{key:"handleCancel",value:function(){this.props.onCancel&&this.props.onCancel(),this.setState({visible:!1})}},{key:"handleOk",value:function(){var e=this,t=this.props,n=t.confirmLoading,r=t.form,o=t.onOk,a=function(){void 0===n&&e.handleCancel()};o&&r?r.validateFields(function(e,t){e||o(t)&&a()}):(o&&o(),a())}},{key:"render",value:function(){var e=this.props.confirmLoading;void 0!==e&&(e=e.valueOf());var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}({},this.props,{confirmLoading:e,visible:!0,onOk:this.handleOk,onCancel:this.handleCancel});return k.a.createElement("div",null,this.state.visible&&k.a.createElement(E.Modal,t,this.props.children))}}])&&Re(n.prototype,r),o&&Re(n,o),t}(),qe=n(4),ze=n.n(qe);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){He(e,t,n[t])})}return e}function Be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t,n,r,o){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function Je(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t+n,o=r;1===n&&o<e.length||-1===n&&o>=0;o+=n)if(!e[o].deleteFlag){r=o;break}return r}var Qe=(Xe((Le=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=We(t).call(this,e),n=!o||"object"!==Ve(o)&&"function"!=typeof o?Ge(r):o,He(Ge(Ge(n)),"handlMoveUp",function(e){return function(){var t=n.state.rules,r=t[e],o=r.key,a=Be(r,["key"]),i=Je(t,o,-1);t[e]=Ke({},t[i],{key:o}),t[i]=Ke({},a,{key:i}),n.setState({rules:Ue(t)}),n.trigger(t)}}),He(Ge(Ge(n)),"handlMoveDown",function(e){return function(){var t=n.state.rules,r=t[e],o=r.key,a=Be(r,["key"]),i=Je(t,o,1);t[e]=Ke({},t[i],{key:o}),t[i]=Ke({},a,{key:i}),n.setState({rules:Ue(t)}),n.trigger(t)}});var a=e.value,i=void 0===a?[{key:0}]:a;return n.state={rules:i.map(function(e,t){return Ke({},e,{key:t})})},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,k.a.Component),n=t,(r=[{key:"handlMinus",value:function(e){var t=this.state.rules;t[e].deleteFlag=!0,this.setState({rules:Ue(t)}),this.trigger(t)}},{key:"handlAdd",value:function(){var e=this.state.rules;e=e.concat([{value:void 0,key:e.length}]),this.setState({rules:Ue(e)}),this.trigger(e)}},{key:"handleChange",value:function(e,t,n){var r=this.state.rules;r[t][n]=e,this.setState({rules:Ue(r)}),this.trigger(r)}},{key:"trigger",value:function(e){(0,this.props.onChange)(e.filter(function(e){return!e.deleteFlag}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.canMove,o=this.state.rules,a={handlAdd:this.handlAdd,handlMinus:this.handlMinus,handleChange:this.handleChange},i=o.filter(function(e){return!e.deleteFlag}),l=i.length-1;return k.a.createElement("div",{className:V.a.FullReduction},i.map(function(t,o){return k.a.createElement("div",{key:t.key},n(t,a),o?k.a.createElement(E.Button,{style:{marginLeft:10},type:"primary",shape:"circle",icon:"minus",onClick:function(){return e.handlMinus(t.key)}}):k.a.createElement(E.Button,{style:{marginLeft:10},onClick:e.handlAdd,type:"primary",shape:"circle",icon:"plus"}),r&&o>0&&k.a.createElement(E.Button,{style:{marginLeft:10},onClick:e.handlMoveUp(t.key),type:"primary",shape:"circle",icon:"up"}),r&&o<l&&k.a.createElement(E.Button,{style:{marginLeft:10},onClick:e.handlMoveDown(t.key),type:"primary",shape:"circle",icon:"down"}))}))}}])&&Ye(n.prototype,r),o&&Ye(n,o),t}()).prototype,"handlMinus",[ze.a],Object.getOwnPropertyDescriptor(Le.prototype,"handlMinus"),Le.prototype),Xe(Le.prototype,"handlAdd",[ze.a],Object.getOwnPropertyDescriptor(Le.prototype,"handlAdd"),Le.prototype),Xe(Le.prototype,"handleChange",[ze.a],Object.getOwnPropertyDescriptor(Le.prototype,"handleChange"),Le.prototype),Xe(Le.prototype,"trigger",[ze.a],Object.getOwnPropertyDescriptor(Le.prototype,"trigger"),Le.prototype),Le);n.d(t,"EnhanceTable",function(){return q}),n.d(t,"WithSearch",function(){return ke}),n.d(t,"RenderDetail",function(){return Ie}),n.d(t,"HModal",function(){return Me}),n.d(t,"DaynamicForm",function(){return Qe}),n.d(t,"formRender",function(){return be}),n.d(t,"FileUpload",function(){return ie}),n.d(t,"OriginSearch",function(){return J});t.default=r}])});